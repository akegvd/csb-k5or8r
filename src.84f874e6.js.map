{"version":3,"sources":["src/index.js"],"names":["inputWords","pickedWords","initWord","buttonSpinId","buttonEditId","buttonSpeak","document","getElementById","formWords","textAreaInput","displayedWord","displayWordCountId","msg","SpeechSynthesisUtterance","onstart","setAttribute","onend","removeAttribute","length","speak","text","innerText","window","speechSynthesis","randomNumberInRange","max","Math","floor","random","getWordByRandom","words","setFormToDisabled","formElement","querySelectorAll","forEach","inputElement","setFormToEnable","handleClickSpin","disabled","value","replace","split","randomedWord","filter","word","push","innerHTML","console","log","handleClickEdit","remove","createButtonSpin","buttonSpin","createElement","type","id","addEventListener","e","target","body","appendChild","createButtonEdit","buttonEdit","preventDefault","style","display"],"mappings":"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","file":"src.84f874e6.js","sourceRoot":"..","sourcesContent":["let inputWords = [];\nlet pickedWords = [];\nconst initWord = 'Please fill the word split with comma(,) e.g. \"a,b,c,d\"';\nconst buttonSpinId = \"button-spin\";\nconst buttonEditId = \"button-edit\";\n\n// for test\n// document.getElementById(\"words\").value = inputWords.join(\",\");\n\n// elements\nconst buttonSpeak = document.getElementById(\"button-speak\");\nconst formWords = document.getElementById(\"form-words\");\nconst textAreaInput = document.getElementById(\"words\");\nconst displayedWord = document.getElementById(\"display-word\");\nconst displayWordCountId = document.getElementById(\"display-word-count\");\n\n// api speak\nconst msg = new SpeechSynthesisUtterance();\n\nmsg.onstart = () => {\n  buttonSpeak.setAttribute(\"disabled\", true);\n  document.getElementById(buttonEditId)?.setAttribute(\"disabled\", true);\n  document.getElementById(buttonSpinId)?.setAttribute(\"disabled\", true);\n};\nmsg.onend = () => {\n  buttonSpeak.removeAttribute(\"disabled\");\n  document.getElementById(buttonEditId)?.removeAttribute(\"disabled\");\n\n  if (inputWords.length !== 0) {\n    document.getElementById(buttonSpinId)?.removeAttribute(\"disabled\");\n  }\n};\n\nconst speak = () => {\n  msg.text = displayedWord.innerText;\n  window.speechSynthesis.speak(msg);\n};\n\n// Start at 0\nconst randomNumberInRange = (max) => {\n  return Math.floor(Math.random() * max);\n};\n\nconst getWordByRandom = (words) => {\n  return words[randomNumberInRange(words.length)];\n};\n\nconst setFormToDisabled = (formElement) => {\n  formElement\n    .querySelectorAll(\"input, textarea, button\")\n    .forEach((inputElement) => {\n      inputElement.setAttribute(\"readonly\", true);\n      inputElement.setAttribute(\"disabled\", true);\n    });\n};\n\nconst setFormToEnable = (formElement) => {\n  formElement\n    .querySelectorAll(\"input, textarea, button\")\n    .forEach((inputElement) => {\n      inputElement.removeAttribute(\"readonly\");\n      inputElement.removeAttribute(\"disabled\");\n    });\n};\n\nconst handleClickSpin = () => {\n  if (buttonSpeak.disabled) {\n    return;\n  }\n\n  inputWords = textAreaInput.value\n    ? textAreaInput.value.replace(/[\\n\\r]/g, \"\").split(\",\")\n    : [];\n\n  if (inputWords && inputWords.length > 0) {\n    const randomedWord = getWordByRandom(inputWords);\n\n    inputWords = inputWords.filter((word) => word !== randomedWord);\n    pickedWords.push(randomedWord);\n    textAreaInput.value = inputWords;\n    displayedWord.innerText = randomedWord;\n    displayWordCountId.innerHTML = inputWords.length || 0;\n\n    console.log(pickedWords);\n    speak();\n  }\n};\n\nconst handleClickEdit = () => {\n  // setFormToEnable(formWords);\n  displayedWord.innerText = initWord;\n  formWords.removeAttribute(\"style\");\n\n  document.getElementById(buttonSpinId).remove();\n  document.getElementById(buttonEditId).remove();\n};\n\nconst createButtonSpin = () => {\n  const buttonSpin = document.createElement(\"button\");\n  buttonSpin.innerText = \"Spin\";\n  buttonSpin.type = \"button\";\n  buttonSpin.id = buttonSpinId;\n\n  buttonSpin.addEventListener(\"click\", (e) => {\n    e.target.setAttribute(\"disabled\", true);\n    handleClickSpin();\n    e.target.removeAttribute(\"disabled\");\n  });\n\n  document.body.appendChild(buttonSpin);\n};\n\nconst createButtonEdit = () => {\n  const buttonEdit = document.createElement(\"button\");\n  buttonEdit.innerText = \"Back to Edit\";\n  buttonEdit.type = \"button\";\n  buttonEdit.id = buttonEditId;\n\n  buttonEdit.addEventListener(\"click\", (e) => {\n    handleClickEdit();\n  });\n\n  document.body.appendChild(buttonEdit);\n};\n\nformWords.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n  // setFormToDisabled(e.target);\n  e.target.style.display = \"none\";\n  pickedWords = [];\n  createButtonSpin();\n  createButtonEdit();\n  displayWordCountId.innerHTML = textAreaInput.value\n    ? textAreaInput.value.split(\",\").length\n    : 0;\n});\n\nbuttonSpeak.addEventListener(\"click\", () => {\n  speak();\n});\n\ndisplayedWord.innerText = initWord;\n"]}